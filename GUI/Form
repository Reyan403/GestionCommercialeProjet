using System;
using System.Collections.Generic;
using System.Windows.Forms;

namespace GUI
{
    public partial class Form1 : Form
    {
        // Créons une petite liste de produits pour la démo
        List<Produit> produits = new List<Produit>();

        // Déclarations des TextBox manquantes (ajoutées ici si le Designer ne les contient pas)
        private TextBox textBoxCode;
        private TextBox textBoxLibelle;
        private TextBox textBoxCategorie;
        private TextBox textBoxPrix;

        public Form1()
        {
            InitializeComponent();

            // Création et ajout des TextBox au formulaire si elles ne sont pas définies dans le Designer
            if (textBoxCode == null)
            {
                textBoxCode = new TextBox { Name = "textBoxCode", Location = new System.Drawing.Point(12, 250), Size = new System.Drawing.Size(120, 20) };
                textBoxLibelle = new TextBox { Name = "textBoxLibelle", Location = new System.Drawing.Point(140, 250), Size = new System.Drawing.Size(250, 20) };
                textBoxCategorie = new TextBox { Name = "textBoxCategorie", Location = new System.Drawing.Point(400, 250), Size = new System.Drawing.Size(120, 20) };
                textBoxPrix = new TextBox { Name = "textBoxPrix", Location = new System.Drawing.Point(532, 250), Size = new System.Drawing.Size(80, 20) };

                this.Controls.Add(textBoxCode);
                this.Controls.Add(textBoxLibelle);
                this.Controls.Add(textBoxCategorie);
                this.Controls.Add(textBoxPrix);
            }
        }

        private void Form1_Load(object sender, EventArgs e)
        {
            // Exemple de données
            produits.Add(new Produit { Code = 1, Libelle = "Câble RJ45 Cat6 5m", Categorie = "Réseau", PrixVenteHT = 14.99m });
            produits.Add(new Produit { Code = 2, Libelle = "Routeur WiFi TP-Link AX1800", Categorie = "Réseau", PrixVenteHT = 82.50m });
            produits.Add(new Produit { Code = 3, Libelle = "Switch Netgear 8 ports", Categorie = "Réseau", PrixVenteHT = 59.90m });

            // Afficher dans la DataGridView
            dataGridView1.DataSource = produits;
        }

        private void dataGridView1_CellClick(object sender, DataGridViewCellEventArgs e)
        {
            // Vérifie qu'on clique sur une vraie ligne
            if (e.RowIndex >= 0)
            {
                Produit p = (Produit)dataGridView1.Rows[e.RowIndex].DataBoundItem;

                // Exemple : afficher les détails dans des TextBox
                textBoxCode.Text = p.Code.ToString();
                textBoxLibelle.Text = p.Libelle;
                textBoxCategorie.Text = p.Categorie;
                textBoxPrix.Text = p.PrixVenteHT.ToString("0.00");
            }
        }

        private void button1_Click(object sender, EventArgs e)
        {
            MessageBox.Show("Bouton cliqué !");
        }
    }

    // Classe Produit (tu peux la déplacer dans le dossier BO plus tard)
    public class Produit
    {
        public int Code { get; set; }
        public string Libelle { get; set; }
        public string Categorie { get; set; }
        public decimal PrixVenteHT { get; set; }
    }
}